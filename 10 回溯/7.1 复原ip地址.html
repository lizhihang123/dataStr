<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * @param {string} s
         * @return {string[]}
        */

        // 更好的策略是，直接先理解这个代码 再去修改原本写的代码
        // 原本画的图 需要好好修改一下
        var restoreIpAddresses = function (s) {
            debugger
            const res = [], path = [];
            backtracking(0, 0)
            return res;
            function backtracking(i) {
                debugger
                const len = path.length;
                if (len > 4) return;

                // 如果path的长度是4，表示里面有4个子串；如果 i === s.length 表示所有的字符都被分割到了 而不仅仅是 ['2', '5', '5', '2'] -> 所以这里不会进入 下面的for再来一波 长度 > 4了就会return -> 再经历path.pop()
                if (len === 4 && i === s.length) {
                    debugger
                    res.push(path.join("."));
                    return;
                }
                for (let j = i; j < s.length; j++) {
                    debugger
                    const str = s.slice(i, j + 1);
                    // ['2', '5', '5', '551'] 这种情况就会直接走break
                    if (str.length > 3 || +str > 255) break;
                    // ['2', '5', '5', '01']如果是0开头并且0后面还有数字 就会直接break
                    if (str.length > 1 && str[0] === "0") break;
                    path.push(str);
                    backtracking(j + 1);
                    path.pop()
                }
            }
        };
        console.log(restoreIpAddresses('25525511135'));
    </script>
</body>

</html>